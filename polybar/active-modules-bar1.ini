;=====================================================
;     Active Modules bar1
;=====================================================

[module/sxhkd-ipc]
; Indicate if sxhkd has began a chain and serve as a launcher.
type = custom/ipc
format = <output>
format-padding = 1
hook-0 = echo "  %{F#FF4747}%{F-}"
hook-1 = echo "  %{F#A6E074}%{F-}"
initial = 2
click-left = sxhkd-start &

[module/hotkeys-ipc]
type = custom/ipc
format = <output>
format-padding = 1
hook-0 = echo ""
hook-1 = echo "  %{F#FF4747} $(cat "$XDG_RUNTIME_DIR"/keys.txt | sed 's/H//')%{F-}"
initial = 1

[module/command-ipc]
type = custom/ipc
format = <output>
format-padding = 1
hook-0 = echo ""
hook-1 = echo "  %{F#A6E074} $(cat "$XDG_RUNTIME_DIR"/cmd.txt | sed 's/C//')%{F-}"
initial = 1

[module/bsp1_layout-ipc]
type = custom/ipc
hook-0 = echo "tiled"
hook-1 = bsp-layout get $(bspc query -D -d .focused.local) | sed 's/-/tiled/'
initial = 1
format = <output>
format-padding = 1
format-foreground = ${xresources.mag}

[module/weather]
type = custom/script
exec = weather.sh
;exec = openweather
;exec = curl -Ss 'https://wttr.in?0&T&Q' | cut -c 16- | head -3 | xargs echo
;exec = curl wttr.in/Le-Perreux-sur-Marne?format=3
interval = 600
label-font = 3
label-foreground = ${xresources.blu}
format = <label>
format-padding = 1
click-left = radar &

[module/nm-applet]
type = custom/text
content = "   "
content-foreground = ${xresources.red}
content-padding = 1
click-left = nm-connection-editor &

[module/networkspeed]
type = custom/script
exec = conky -c ~/.config/conky/net-conkyrc
label = %output%
;label-maxlen = 70
format-prefix = " "
format-prefix-foreground = ${xresources.red}
tail = true
format = <label>
label-foreground = ${xresources.blu}
format-padding = 1
click-left = nm-connection-editor &

[module/free]
type = custom/script
exec = imap-free.py
interval = 1800
format = <label>
format-prefix = " "
format-prefix-foreground = ${xresources.red}
label-padding = 1
label-foreground = ${xresources.blu}
click-left = firefox https://webmail.free.fr/ >/dev/null 2>&1
format-padding = 1

[module/updates-ipc]
type = custom/ipc
hook-0 = grep "" -c "$XDG_RUNTIME_DIR"/combined.list
hook-1 = echo " 0 "
initial = 2
format-padding = 2
format = <output>
format-prefix = "  "
format-prefix-foreground = ${xresources.red}
format-foreground = ${xresources.blu}
click-left = urxvtc -name floaterm -e updates-manager --list &
click-right = "#updates-ipc.hook.0"
